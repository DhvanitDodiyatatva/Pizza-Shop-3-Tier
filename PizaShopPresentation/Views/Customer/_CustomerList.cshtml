@model PizzaShopRepository.ViewModels.CustomerPaginationViewModel

<div class="content-div rounded-2 shadow p-3">
    <div class="row table-responsive p-3">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col" class="text-nowrap">
                        <a href="#" class="text-decoration-none text-secondary sort-link" data-column="Name"
                            data-direction="@(Model.SortColumn == "Name" && Model.SortDirection == "asc" ? "desc" : "asc")">
                            Name
                            @if (Model.SortColumn == "Name")
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="@(Model.SortDirection == "asc" ? "bi bi-arrow-up" : "bi bi-arrow-down")"
                                    viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="@(Model.SortDirection == "asc" ? "M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" : "M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z")" />
                                </svg>
                            }
                            else
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-down-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5" />
                                </svg>
                            }
                        </a>
                    </th>
                    <th scope="col" class="text-nowrap text-secondary">Email</th>
                    <th scope="col" class="text-nowrap text-secondary">Phone Number</th>
                    <th scope="col" class="text-nowrap">
                        <a href="#" class="text-decoration-none text-secondary sort-link" data-column="Date"
                            data-direction="@(Model.SortColumn == "Date" && Model.SortDirection == "asc" ? "desc" : "asc")">
                            Date
                            @if (Model.SortColumn == "Date")
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="@(Model.SortDirection == "asc" ? "bi bi-arrow-up" : "bi bi-arrow-down")"
                                    viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="@(Model.SortDirection == "asc" ? "M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" : "M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z")" />
                                </svg>
                            }
                            else
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-down-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5" />
                                </svg>
                            }
                        </a>
                    </th>
                    <th scope="col" class="text-nowrap text-center">
                        <a href="#" class="text-decoration-none text-secondary sort-link" data-column="TotalOrders"
                            data-direction="@(Model.SortColumn == "TotalOrders" && Model.SortDirection == "asc" ? "desc" : "asc")">
                            Total Order
                            @if (Model.SortColumn == "TotalOrders")
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="@(Model.SortDirection == "asc" ? "bi bi-arrow-up" : "bi bi-arrow-down")"
                                    viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="@(Model.SortDirection == "asc" ? "M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z" : "M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z")" />
                                </svg>
                            }
                            else
                            {
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-down-up" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M11.5 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L11 2.707V14.5a.5.5 0 0 0 .5.5m-7-14a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L4 13.293V1.5a.5.5 0 0 1 .5-.5" />
                                </svg>
                            }
                        </a>
                    </th>
                </tr>

            </thead>
            <tbody>
                @foreach (var customer in Model.Customers)
                {
                    <tr class="customer-row" data-customer-id="@customer.Id" style="cursor: pointer;">
                        <td class="py-3 text-nowrap">@customer.Name</td>
                        <td class="py-3">@customer.Email</td>
                        <td class="py-3">@customer.PhoneNo</td>
                        <td class="py-3 text-nowrap">@(customer.Date?.ToString("dd-MM-yyyy"))</td>
                        <td class="py-3 text-center">@customer.TotalOrders</td>
                    </tr>
                }
            </tbody>
        </table>
        <nav aria-label="Page navigation example"
            class="d-flex align-items-center justify-content-between justify-content-lg-end flex-column flex-md-row">

            <div class="d-flex me-2 align-items-center mb-4">
                <p class="m-0 me-1">Items Per Page:</p>
                <div class="dropdown">
                    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        @Model.PageSize
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item page-size-link" href="#" data-size="2">2</a></li>
                        <li><a class="dropdown-item page-size-link" href="#" data-size="5">5</a></li>
                        <li><a class="dropdown-item page-size-link" href="#" data-size="8">8</a></li>
                        <li><a class="dropdown-item page-size-link" href="#" data-size="10">10</a></li>
                    </ul>
                </div>
            </div>
            <ul class="pagination d-flex align-items-center mb-4">
                @* <p class="m-0 me-1">Showing @(((Model.CurrentPage - 1) * Model.PageSize) + 1) - @(Model.CurrentPage *
                                        Model.PageSize > Model.TotalPages * Model.PageSize ? Model.TotalPages * Model.PageSize :
                                        Model.CurrentPage * Model.PageSize) of @(Model.TotalPages* Model.PageSize)</p> *@
                <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
                    <a class="page-link page-nav text-secondary" href="#" data-page="@(Model.CurrentPage - 1)">
                        < </a>
                </li>
                @for (int i = 1; i <= Model.TotalPages; i++)
                {
                    <li class="page-item @(Model.CurrentPage == i ? "active" : "")">
                        <a class="page-link page-nav text-secondary" href="#" data-page="@i">@i</a>
                    </li>
                }
                <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                    <a class="page-link page-nav text-secondary" href="#" data-page="@(Model.CurrentPage + 1)"> > </a>
                </li>
            </ul>
        </nav>
    </div>
</div>
